---
title: "SQL ä¸­çš„ç®€å•æ•°æ®éªŒè¯"
image: "/blog/image/31.png"
description: "æ•°æ®éªŒè¯æ˜¯ä¸€ç§ç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œå¯é æ€§çš„æ‰‹æ®µï¼Œé€šå¸¸åœ¨å½•å…¥ã€ä¿®æ”¹æˆ–å¤„ç†æ•°æ®å‰è¿›è¡Œã€‚"
category: "Guide"
date: 2024å¹´11æœˆ13æ—¥
---

# SQL ä¸­çš„ç®€å•æ•°æ®éªŒè¯

åœ¨ SQLï¼ˆç»“æž„åŒ–æŸ¥è¯¢è¯­è¨€ï¼‰ä¸­ï¼Œæ•°æ®éªŒè¯æŒ‡çš„æ˜¯ç”¨äºŽç¡®è®¤æ•°æ®å‡†ç¡®æ€§å’Œå¯é æ€§çš„è¿‡ç¨‹ã€‚å› ä¸ºæ•°æ®åº“ç»å¸¸ç”±å¤šä¸ªç”¨æˆ·æˆ–ç¨‹åºè¿›è¡Œæ›´æ–°ã€åˆ é™¤ã€æŸ¥è¯¢æˆ–è¿ç§»ï¼Œæ‰€ä»¥ä¿æŒæ•°æ®çš„å®Œæ•´æ€§æ˜¯éžå¸¸å…³é”®çš„ã€‚åœ¨æŽ¥ä¸‹æ¥çš„å†…å®¹é‡Œï¼Œæˆ‘ä»¬ä¼šä»‹ç»å¦‚ä½•åœ¨ SQL ä¸­å®žæ–½ä¸€äº›åŸºæœ¬çš„éªŒè¯è§„åˆ™æ¥ç¡®ä¿æ•°æ®çš„è´¨é‡ã€‚

![validation](/image/blog/validation/1.png)

## SQL ä¸­çš„æ•°æ®éªŒè¯æ˜¯ä»€ä¹ˆï¼Ÿ

æ•°æ®éªŒè¯æ˜¯ä¸€ç§ç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œå¯é æ€§çš„æ‰‹æ®µï¼Œé€šå¸¸åœ¨å½•å…¥ã€ä¿®æ”¹æˆ–å¤„ç†æ•°æ®å‰è¿›è¡Œã€‚å½“éœ€è¦æ•´åˆæ¥è‡ªå¤šä¸ªæºçš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæåˆ°â€œæ•°æ®æ¸…æ´—â€ï¼Œå®žé™…ä¸Šå°±æ˜¯æŒ‡çš„æ•°æ®éªŒè¯è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤æ•°æ®ï¼š

- **æ˜¯å¦é½å…¨**ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰ç¼ºå¤±æˆ–ç©ºç¼ºçš„ä¿¡æ¯ï¼‰
- **æ˜¯å¦å…·æœ‰å”¯ä¸€æ€§**ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰é‡å¤çš„æ•°æ®é¡¹ï¼‰
- **æ˜¯å¦ç¬¦åˆé¢„æœŸçš„æ ‡å‡†æˆ–æ¨¡å¼**ï¼ˆæ¯”å¦‚æ•°å€¼æ˜¯å¦åœ¨ä¸€ä¸ªç‰¹å®šçš„åŒºé—´å†…ï¼‰

åº”ç”¨è¿™äº›æ£€æŸ¥çš„ä¸€äº›ä¾‹å­å¦‚ä¸‹ï¼š

- å¯¹äºŽ**å·¥èµ„è¡¨**ï¼Œâ€œå·¥èµ„â€å­—æ®µå¯ä»¥è®¾å®šä¸€ä¸ªæœ€ä½Žå’Œæœ€é«˜é™é¢ï¼Œä»¥æ­¤æ¥ä¿è¯å½•å…¥çš„å·¥èµ„æ•°é¢å¤„äºŽåˆç†çš„åŒºé—´å†…ã€‚
- åœ¨**å®¢æˆ·ä¿¡æ¯è¡¨**ä¸­ï¼Œå½“è®°å½•åœ°å€è¯¦æƒ…æ—¶ï¼Œå¯ä»¥è®¾å®šè§„åˆ™ç¡®ä¿é‚®æ”¿ç¼–ç åªåŒ…å«æ•°å­—å¹¶ä¸”å…¶é•¿åº¦ç¬¦åˆæ ‡å‡†æ ¼å¼ã€‚
- åœ¨**äº§å“ä¿¡æ¯è¡¨**ä¸­ï¼Œå¯ä»¥å¯¹â€œé¢œè‰²â€è¿™ä¸€æ ä½è®¾å®šæžšä¸¾ç±»åž‹çº¦æŸï¼Œä½¿å…¶åªèƒ½æŽ¥å—é¢„å®šä¹‰çš„é¢œè‰²é€‰é¡¹ã€‚

æœ‰äº›äººå¯èƒ½ä¼šè®¤ä¸ºâ€œè¿™ç§ç±»åž‹çš„æ•°æ®éªŒè¯åº”è¯¥åœ¨åº”ç”¨å±‚é¢ä¸Šå®žçŽ°ï¼Œè€Œä¸æ˜¯åœ¨æ•°æ®åº“å±‚é¢ã€‚â€è™½ç„¶åº”ç”¨å±‚é¢çš„éªŒè¯éžå¸¸é‡è¦ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ç›´æŽ¥åœ¨æ•°æ®åº“å±‚é¢æ‰§è¡Œæ›´æ–°çš„æƒ…å†µï¼Œç¡®ä¿æ•°æ®åº“æœ¬èº«ä¹Ÿæœ‰é€‚å½“çš„æ•°æ®éªŒè¯æœºåˆ¶ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼Œå³ä¾¿åº”ç”¨å±‚ä¹Ÿè¿›è¡Œäº†éªŒè¯ã€‚

è™½ç„¶å¬èµ·æ¥æ˜¾è€Œæ˜“è§ï¼Œä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡æˆ‘ä»¬å¯ä»¥é€šè¿‡è§„åˆ™æ¥éªŒè¯æ•°æ®è¾“å…¥ï¼Œä½†è¿™å¹¶ä¸èƒ½å®Œå…¨ä¿è¯å€¼çš„çœŸå®žæ­£ç¡®æ€§ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€æ¡è§„åˆ™ï¼Œä½¿å¾—å·¥èµ„å­—æ®µä¸­çš„æ‰€æœ‰æ¡ç›®å¿…é¡»åœ¨5000åˆ°250,000ä¹‹é—´ã€‚ç„¶è€Œï¼Œè¿™æ¡è§„åˆ™ä¸èƒ½é˜»æ­¢ä¸æ­£ç¡®çš„æ¡ç›®ï¼Œåªè¦å®ƒä»¬è½å…¥äº†è¿™ä¸ªå…è®¸çš„åŒºé—´å†…ã€‚

åœ¨éªŒè¯è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨æ›´å¤æ‚çš„çº¦æŸã€‚æ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨å¤–é”®çº¦æŸæ¥ç¡®ä¿ä¸¤ä¸ªè¡¨ä¹‹é—´çš„å…³ç³»ä¸ä¼šè¢«ç ´åï¼›å¦‚æžœæœªæä¾›æ•°æ®ï¼Œåˆ™å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼›è¿˜å¯ä»¥é€šè¿‡ä¸»é”®çº¦æŸæ¥å”¯ä¸€æ ‡è¯†è¡¨ä¸­çš„æ¯ä¸€è¡Œã€‚

æˆ‘ä»¬å°†å…·ä½“æŽ¢è®¨ä¸‰ç§æœ€å¸¸ç”¨çš„ç”¨äºŽæ•°æ®éªŒè¯çš„çº¦æŸï¼š**NOT NULL**ï¼ˆéžç©ºï¼‰ã€**UNIQUE**ï¼ˆå”¯ä¸€ï¼‰å’Œ**CHECK**ï¼ˆæ£€æŸ¥ï¼‰ã€‚è¿™äº›çº¦æŸå¸®åŠ©æˆ‘ä»¬åœ¨æ•°æ®åº“çº§åˆ«ä¸Šç»´æŠ¤æ•°æ®çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚

## SQL ä¸­çš„çº¦æŸ

åœ¨ SQL Server ä¸­ï¼Œçº¦æŸæ˜¯ç”¨æ¥é™åˆ¶å¯ä»¥æ’å…¥è¡¨ä¸­çš„æ•°æ®çš„è§„åˆ™ã€‚è¿™äº›è§„åˆ™æœ‰åŠ©äºŽä¿è¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œå¹¶æ”¯æŒæ•°æ®åº“çš„æ•´ä½“å®Œæ•´æ€§ã€‚çº¦æŸæ—¢å¯ä»¥åœ¨åˆ›å»ºè¡¨çš„åŒæ—¶å®šä¹‰ï¼Œä¹Ÿå¯ä»¥åœ¨è¡¨åˆ›å»ºä¹‹åŽæ·»åŠ ï¼Œå¹¶ä¸”å¯ä»¥é€‚ç”¨äºŽå•ä¸€åˆ—æˆ–å¤šåˆ—ã€‚

å½“å°è¯•åœ¨ç¬¦åˆçº¦æŸæ¡ä»¶çš„åˆ—ä¸­æ’å…¥æ•°æ®æ—¶ï¼ŒSQL Server å°†å…è®¸è¯¥æ“ä½œå¹¶æˆåŠŸæ’å…¥æ•°æ®ã€‚ç›¸åï¼Œå¦‚æžœæ’å…¥çš„æ•°æ®è¿åäº†ä»»ä½•çº¦æŸï¼Œé‚£ä¹ˆæ’å…¥æ“ä½œå°†ä¼šå¤±è´¥ï¼Œå¹¶ä¸”ç³»ç»Ÿä¼šè¿”å›žä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚

### éžç©ºçº¦æŸ

SQL Server æ”¯æŒ NULL å€¼ï¼Œè¿™è¡¨ç¤ºâ€œæœªçŸ¥â€æˆ–â€œæ— å€¼â€çš„çŠ¶æ€ã€‚NULL å€¼æœ‰å…¶é€‚ç”¨çš„åœºæ™¯ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å…è®¸æŸä¸€åˆ—å­˜åœ¨ NULL å€¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥åˆ—ä¸Šåº”ç”¨ NOT NULL çº¦æŸã€‚

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªä¸åŒçš„ä¾‹å­æ¥è¯´æ˜Žè¿™ä¸€ç‚¹ï¼šå‡è®¾æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª**é¡¾å®¢ä¿¡æ¯è¡¨**ï¼Œå¹¶æŒ‡å®šé™¤äº†**â€œæ˜µç§°â€**å­—æ®µå¤–ï¼Œæ‰€æœ‰å…¶ä»–å­—æ®µéƒ½ä¸èƒ½ä¸ºç©ºå€¼ã€‚

```SQL
CREATE TABLE Customers (
    CustomerID INT PRIMARY KEY,
    FirstName NVARCHAR(50) NOT NULL,
    LastName NVARCHAR(50) NOT NULL,
    Nickname NVARCHAR(50),
    Email NVARCHAR(100) NOT NULL,
    PhoneNumber NVARCHAR(15) NOT NULL
);
```

å¦‚æžœæˆ‘ä»¬éœ€è¦å°†çŽ°æœ‰åˆ—æ›´æ–°ä¸º NOT NULLï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ALTER TABLE è¯­å¥ã€‚æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Chat2DB â€“ å³é”®å•å‡»è¡¨å¹¶å•å‡»â€œä¿®æ”¹è¡¨â€è¿›è¡Œæ›´æ”¹ã€‚

![validation](/image/blog/validation/2.png)

### å”¯ä¸€çº¦æŸ

æˆ‘ä»¬é€šå¸¸ä¼šåœ¨ ID ç±»åž‹çš„åˆ—ä¸Šä½¿ç”¨ UNIQUE çº¦æŸã€‚æ¯”å¦‚åˆ›å»ºä¸€ä¸ªä¹¦ç±è¡¨ï¼Œå¹¶æŒ‡å®šæ¯æœ¬ä¹¦çš„ ISBN å¿…é¡»æ˜¯å”¯ä¸€çš„ä¸”ä¸èƒ½ä¸ºç©ºï¼š

```SQL
CREATE TABLE Books (
    ISBN VARCHAR(13) NOT NULL UNIQUE,
    Title NVARCHAR(100),
    Author NVARCHAR(100),
    PublicationYear INT
);
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`ISBN` å­—æ®µè¢«è®¾ç½®ä¸º UNIQUE å¹¶ä¸” NOT NULLï¼Œç¡®ä¿æ¯æœ¬ä¹¦éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„å›½é™…æ ‡å‡†ä¹¦å·ï¼Œå¹¶ä¸”è¿™ä¸ªä¹¦å·ä¸å¯ä»¥ä¸ºç©ºã€‚

### æ£€æŸ¥çº¦æŸ

æ£€æŸ¥çº¦æŸç”±**é€»è¾‘è¡¨è¾¾å¼**ç»„æˆï¼Œç”¨äºŽç¡®å®šå“ªäº›å€¼æœ‰æ•ˆã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯åœ¨å·¥èµ„æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦æŒ‡å®šå¯ä»¥è¾“å…¥çš„æœ€å¤§å€¼ã€‚åˆ›å»ºè¡¨æ—¶ CHECK çº¦æŸçš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚

```SQL
CREATE TABLE table_name
(
column1 datatype [ NULL | NOT NULL ],
column2 datatype [ NULL | NOT NULL ],
 
...
CONSTRAINT constraint_name
CHECK (column_name condition)
);
```

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå‘˜å·¥è–ªèµ„è¡¨ï¼Œå¹¶å¯¹è¾“å…¥åˆ° `Salary` åˆ—ä¸­çš„å€¼æ–½åŠ æ£€æŸ¥çº¦æŸï¼š

```SQL
CREATE TABLE dbo.EmployeeSalaries (
    EmployeeID int PRIMARY KEY,
    EmployeeType int,
    Salary decimal(9,2),
    CONSTRAINT CK_EmployeeSalaries_SalaryRange 
    CHECK (EmployeeType = 1 AND Salary >= 0 AND Salary <= 200000.00)
);
```

å¦‚æžœæˆ‘ä»¬éœ€è¦å¯¹çŽ°æœ‰è¡¨ä¸­çš„åˆ—**æ·»åŠ **æ£€æŸ¥çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨ ALTER è¯­å¥ï¼š

```SQL
ALTER TABLE dbo.EmployeeSalaries
ADD CONSTRAINT CK_EmployeeSalaries_SalaryRange
CHECK (EmployeeType = 1 AND Salary >= 0 AND Salary <= 200000.00);
```

è¦**åˆ é™¤**æ£€æŸ¥çº¦æŸï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```SQL
ALTER TABLE dbo.EmployeeSalaries
DROP CONSTRAINT CK_EmployeeSalaries_SalaryRange;
```

æœ€åŽï¼Œä¸´æ—¶**å¯ç”¨**æˆ–**ç¦ç”¨**æ£€æŸ¥çº¦æŸé€šå¸¸å¾ˆæœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼æ‰§è¡Œæ­¤æ“ä½œï¼š 

è¦**å¯ç”¨**æ£€æŸ¥çº¦æŸï¼š

```SQL
ALTER TABLE dbo.EmployeeSalaries
WITH CHECK CHECK CONSTRAINT CK_EmployeeSalaries_SalaryRange;
```

è¦**ç¦ç”¨**æ£€æŸ¥çº¦æŸï¼š

```SQL
ALTER TABLE dbo.EmployeeSalaries
NOcheck CONSTRAINT CK_EmployeeSalaries_SalaryRange;
```

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæ£€æŸ¥çº¦æŸå¾ˆå®¹æ˜“åˆ›å»ºå¹¶ä¸”ä½¿ç”¨çµæ´»ã€‚

##  æ¦‚æ‹¬

åœ¨ SQL ä¸­æ‰§è¡Œæ•°æ®éªŒè¯å¯¹äºŽä¿æŒæ•°æ®åº“çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§è‡³å…³é‡è¦ã€‚ä½¿ç”¨ SQL Server Management Studioï¼ˆSSMSï¼‰ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºå’Œç®¡ç†çº¦æŸæ¥å®žçŽ°æ•°æ®éªŒè¯ã€‚è¿™åŒ…æ‹¬ä½¿ç”¨ NOT NULL çº¦æŸæ¥é˜²æ­¢ç©ºå€¼æ’å…¥ï¼Œä½¿ç”¨ UNIQUE çº¦æŸæ¥ç¡®ä¿æŸä¸€åˆ—æˆ–ç»„åˆåˆ—çš„å”¯ä¸€æ€§ï¼Œä»¥åŠä½¿ç”¨ CHECK çº¦æŸæ¥é™åˆ¶åˆ—ä¸­çš„å€¼èŒƒå›´æˆ–æ ¼å¼ã€‚é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°åœ¨æ•°æ®åº“çº§åˆ«ä¸ŠæŽ§åˆ¶æ•°æ®è´¨é‡ã€‚

## å¼€å§‹ä½“éªŒ Chat2DB Pro

å¦‚æžœä½ æ­£åœ¨å¯»æ‰¾ä¸€æ¬¾å¼ºå¤§ã€åŸºäºŽ AI çš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œå¿«æ¥è¯•è¯• Chat2DB å§ï¼æ— è®ºä½ æ˜¯æ•°æ®åº“ç®¡ç†å‘˜ã€å¼€å‘è€…è¿˜æ˜¯æ•°æ®åˆ†æžå¸ˆï¼ŒChat2DB éƒ½èƒ½é€šè¿‡ AI çš„å¼ºå¤§åŠŸèƒ½ç®€åŒ–ä½ çš„å·¥ä½œã€‚

ðŸ‘‰[çŽ°åœ¨äº«å— Chat2DB Pro 30 å¤©å…è´¹è¯•ç”¨](https://chat2db.ai/zh-CN/pricing)ï¼Œå³åˆ»ä½“éªŒæ‰€æœ‰é«˜çº§åŠŸèƒ½ã€‚
